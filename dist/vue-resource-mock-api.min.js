/*!
 * vue-resource-mock-api v0.0.9 
 * (c) 2017 Jerez Bain
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("url-pattern"),require("qs")):"function"==typeof define&&define.amd?define(["url-pattern","qs"],t):e.VueResourceMockApi=t(e.UrlPattern,e.qs)}(this,function(e,t){"use strict";function r(r,o){var n="[vue-resource-mock] ",u=this.mockMATCH_OPTIONS,s=function(t){return Object.keys(t).reduce(function(r,o){var n=o.split(" "),s=n[0],a=n[1],i=t[o];switch(i.constructor.name){case"Function":r.push({method:s,pattern:new e(a,u),handler:i});break;case"Object":r.push({method:s,pattern:new e(a,u),handler:function(){return{body:i,status:200}}});break;case"Number":if(!Number.isInteger(i)||i<200||i>599)throw new Error(i+" is not a valid Http Status Code");r.push({method:s,pattern:new e(a,u),handler:function(){return{body:void 0,status:200}}});break;default:throw new Error("Routes must be an Object or Function or number(status code)")}return r},[])},a=s(this.mockAPI),i=r.url.split("?"),c=i[0],d=i[1],h=a.filter(function(e){return e.matchResult=e.pattern.match(c),r.method.toLowerCase()===e.method.toLowerCase()&&!!e.matchResult});if(0===h.length)console.warn(n+"Request pass through: "+r.url),o();else{console.info(n+"Request served with mock: "+r.url);var p=h[0].handler(h[0].matchResult,t.parse(d),r);p.delay?setTimeout(function(){return o(r.respondWith(p.body,p))},p.delay):o(r.respondWith(p.body,p))}}function o(e,t){for(var r=Object.keys(t),n=0;n<r.length;n+=1){var u=t[r[n]];e[r[n]]=["string","number","array","boolean"].indexOf(typeof u)===-1?o(e[r[n]]||{},u):u}return e}e="default"in e?e.default:e,t="default"in t?t.default:t,r.version="0.0.9";var n={install:function(e,t){if(!e.http)throw new Error('[vue-resource] is not found. Make sure it is imported and "Vue.use" it before vue-resource-mock');e.prototype.mockAPI=t.hasOwnProperty("routes")?t.routes:t;var n={segmentValueCharset:"a-zA-Z0-9.:-_%"};t.hasOwnProperty("matchOptions")&&o(n,t.matchOptions),e.prototype.mockMATCH_OPTIONS=n,e.http.interceptors.push(r)}};return n});