/*!
 * vue-resource-mock-api v0.1.0 
 * (c) 2017 Jerez Bain
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("url-pattern"),require("qs")):"function"==typeof define&&define.amd?define(["url-pattern","qs"],t):e.VueResourceMockApi=t(e.UrlPattern,e.qs)}(this,function(e,t){"use strict";function r(r,n){var o="[vue-resource-mock] ",s=this.mockMATCH_OPTIONS,u=function(t){return Object.keys(t).reduce(function(r,n){var o=n.split(" "),u=o[0],a=o[1],i=t[n];switch(i.constructor.name){case"Function":r.push({method:u,pattern:new e(a,s),handler:i});break;case"Object":r.push({method:u,pattern:new e(a,s),handler:function(){return{body:i,status:200}}});break;case"Number":if(!Number.isInteger(i)||i<200||i>599)throw new Error(i+" is not a valid Http Status Code");r.push({method:u,pattern:new e(a,s),handler:function(){return{body:void 0,status:200}}});break;default:throw new Error("Routes must be an Object or Function or number(status code)")}return r},[])},a=u(this.mockAPI),i=r.url.split("?"),c=i[0],p=i[1];if(r.url.indexOf("{/")!==-1)for(var d in r.params)if(r.params.hasOwnProperty(d)&&"string"==typeof r.params[d]){var f=new RegExp("({/"+d+"})");c=c.replace(f,"/"+r.params[d])}var h=a.filter(function(e){return e.matchResult=e.pattern.match(c),r.method.toLowerCase()===e.method.toLowerCase()&&!!e.matchResult});if(0===h.length)console.warn(o+"Request pass through: "+r.url),n();else{console.info(o+"Request served with mock: "+r.url);var l=h[0].handler(h[0].matchResult,t.parse(p),r);l.delay?setTimeout(function(){return n(r.respondWith(l.body,l))},l.delay):n(r.respondWith(l.body,l))}}function n(e,t){for(var r=Object.keys(t),o=0;o<r.length;o+=1){var s=t[r[o]];e[r[o]]=["string","number","array","boolean"].indexOf(typeof s)===-1?n(e[r[o]]||{},s):s}return e}e="default"in e?e.default:e,t="default"in t?t.default:t,r.version="0.1.0";var o={install:function(e,t){if(!e.http)throw new Error('[vue-resource] is not found. Make sure it is imported and "Vue.use" it before vue-resource-mock');e.prototype.mockAPI=t.hasOwnProperty("routes")?t.routes:t;var o={segmentValueCharset:"a-zA-Z0-9.:-_%"};t.hasOwnProperty("matchOptions")&&n(o,t.matchOptions),e.prototype.mockMATCH_OPTIONS=o,e.http.interceptors.push(r)}};return o});